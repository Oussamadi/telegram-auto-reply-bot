from telegram import Update, ReplyKeyboardMarkup
from telegram.ext import ApplicationBuilder, MessageHandler, CommandHandler, ContextTypes, filters

TOKEN = "8242893940:AAGMo6Gtwyh0dySZRGtDlV4BIaWEiHSFrPY"

# ===== ุฑุณุงูุฉ ุงูุจุฏุงูุฉ + ุงูุฃุฒุฑุงุฑ =====
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    keyboard = [
        ["๐ค ูู ุฃูุชุ", "๐ฐ ุงูุฃุณุนุงุฑ"],
        ["๐ ุฃููุงุช ุงูุนูู", "๐ ุชูุงุตู ูุนูุง"],
        ["โ ูุณุงุนุฏุฉ", "๐จโ๐ผ ุงูุชุญุฏุซ ูุน ุดุฎุต"]
    ]

    reply_markup = ReplyKeyboardMarkup(
        keyboard=keyboard,
        resize_keyboard=True,
        one_time_keyboard=False
    )

    await update.message.reply_text(
        "ุฃููุงู ูุณููุงู ๐๐\n"
        "ุฃูุง ุงููุณุงุนุฏ ุงูุขูู ุงูุฎุงุต ุจู ๐ค\n"
        "ุฌุงูุฒ ูุฌุงูุจู ููุนุงููู ูู ุฃู ููุช.\n\n"
        "ุงุฎุชุฑ ูู ุงูุฃุฒุฑุงุฑ ุฃู ุงูุชุจ ุณุคุงูู ูุจุงุดุฑุฉ ๐",
        reply_markup=reply_markup
    )

# ===== ุงูุฑุฏูุฏ ุงูุฐููุฉ =====
async def auto_reply(update: Update, context: ContextTypes.DEFAULT_TYPE):
    text = update.message.text.lower()

    # ุชุญูุงุช
    if any(word in text for word in ["ุงูุณูุงู", "ุงูุณูุงู ุนูููู", "ุณูุงู"]):
        reply = "ูุนูููู ุงูุณูุงู ูุฑุญูุฉ ุงููู ูุจุฑูุงุชู ๐ธ\nููู ููุฏุฑ ูุนุงููู ุงููููุ ๐"

    elif any(word in text for word in ["ูุฑุญุจุง", "ุฃููุง", "ุงููุง", "hello", "hi"]):
        reply = "ูุฑุญุจุงู ุจูู ๐๐ ููุฑุชูุง!"

    elif "ููู ุญุงูู" in text:
        reply = "ุงูุญูุฏ ููู ุจุฎูุฑ ๐\nุฅู ุดุงุก ุงููู ุชููู ุจุฎูุฑ ุฃูุช ุฃูุถูุง ๐ท"

    # ุงูุฃุฒุฑุงุฑ
    elif "ูู ุฃูุช" in text:
        reply = (
            "ุฃูุง ุจูุช ุฑุฏ ุชููุงุฆู ๐ค\n"
            "ูููุชู ูุฑุฏ ุนููู ุจุณุฑุนุฉ ูููุฏูู ูู ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ.\n"
            "ููู ุญุงุจ ุชุชููู ูุน ุดุฎุต ุญููููุ ุงุฎุชุฑ ุงูุฒุฑ ๐จโ๐ผ"
        )

    elif "ุงูุฃุณุนุงุฑ" in text:
        reply = (
            "๐ฐ ุจุฎุตูุต ุงูุฃุณุนุงุฑ:\n"
            "ุงูุฃุณุนุงุฑ ุชุฎุชูู ุญุณุจ ููุน ุงูุฎุฏูุฉ ุฃู ุงูุทูุจ.\n"
            "ุงุจุนุซ ููุง ุงูุชูุงุตูู ูุณูุฑุฏ ุนููู ุจุฏูุฉ ๐"
        )

    elif "ุฃููุงุช" in text:
        reply = (
            "๐ ุฃููุงุช ุงูุนูู:\n"
            "ูู ุงูุณุจุช ุฅูู ุงูุฎููุณ\n"
            "ูู 09:00 ุตุจุงุญูุง ุฅูู 17:00 ูุณุงุกู โฐ"
        )

    elif "ุชูุงุตู" in text or "ุงุชุตุงู" in text:
        reply = (
            "๐ ุทุฑู ุงูุชูุงุตู:\n"
            "๐ฑ ูุงุชุณุงุจ: 0669272484\n"
            "โ๏ธ ุชูุบุฑุงู: ูู ููุง\n\n"
            "ูุฑุฏ ูู ุฃูุฑุจ ููุช ูููู ๐"
        )

    elif "ูุณุงุนุฏุฉ" in text:
        reply = (
            "โ ูุณุนุฏูู ูุนุงููู\n"
            "ุชูุฏุฑ ุชุณุฃู ุนู:\n"
            "- ุงูุฃุณุนุงุฑ\n"
            "- ุฃููุงุช ุงูุนูู\n"
            "- ุงูุฎุฏูุงุช\n"
            "- ุฃู ุงุณุชูุณุงุฑ ุขุฎุฑ\n\n"
            "ุงูุชุจ ุณุคุงูู ูุจุงุดุฑุฉ โ๏ธ"
        )

    elif "ุดุฎุต" in text or "ุฅูุณุงู" in text:
        reply = (
            "๐จโ๐ผ ุชู ุชุณุฌูู ุทูุจู\n"
            "ุณูุชู ุชุญููู ุฑุณุงูุชู ูุฃุญุฏ ุงููุณุคูููู ๐\n"
            "ูุฑุฌู ุงูุงูุชุธุงุฑ ูููููุง โณ"
        )

    # ุดูุฑ
    elif any(word in text for word in ["ุดูุฑุง", "ุดูุฑุงู", "merci", "thanks"]):
        reply = "ุงูุนูู ๐๐ท ูุณุนุฏูุง ุฎุฏูุชู ูู ุฃู ููุช"

    # ูุฏุงุน
    elif any(word in text for word in ["ุจุงู", "ูุฏุงุนุง", "ุฅูู ุงูููุงุก"]):
        reply = "ูู ุฃูุงู ุงููู ๐๐ ูุชุดุฑู ุจุฒูุงุฑุชู ูุฑุฉ ุฃุฎุฑู"

    # ุฑุฏ ุงูุชุฑุงุถู ุทุจูุนู
    else:
        reply = (
            "ูุตูุชูู ุฑุณุงูุชู ๐\n"
            "ูุฑุงุฌุนูุง ุญุงูููุง ูุณูุฑุฏ ุนููู ูู ุฃูุฑุจ ููุช โณ\n"
            "ุดูุฑุงู ุนูู ุซูุชู ุจูุง ๐ค"
        )

    await update.message.reply_text(reply)

# ===== ุชุดุบูู ุงูุจูุช =====
app = ApplicationBuilder().token(TOKEN).build()

app.add_handler(CommandHandler("start", start))
app.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, auto_reply))

print("๐ค ุงูุจูุช ูุนูู ุงูุขู...")
app.run_polling()
